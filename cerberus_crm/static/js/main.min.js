(()=>{var m=Math.round,a=document;var l="toast-container",y=()=>{let t=a.createElement("div");return t.className=l,a.body.appendChild(t),t},M=()=>a.querySelector(`.${l}`)||y(),i=(t,e="info",o=3e3)=>{let r=M(),n=a.createElement("div");n.classList.add("toast",e),n.innerHTML=t,r.appendChild(n),n.addEventListener("click",()=>n.classList.add("remove")),n.addEventListener("animationend",c=>{switch(c.animationName){case"remove":r.removeChild(n);break;case"add":setTimeout(()=>n.classList.add("remove"),o);break}})};var g=(t,e,o)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:o}))};var S=async(t,e)=>{let o=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":window.CSRFToken},body:JSON.stringify(e)}),r=await o.json();if(!o.ok||!r){let n=r.detail||o.statusText;throw new Error(n)}return r},T=async(t,e,o)=>{let r=e.querySelector(o)||e,n=t.parentElement,{moveUrl:c}=t.dataset;if(c){t.matches(o)&&r.matches(o)?(Array.from(t.children).forEach(s=>r.appendChild(s)),t.remove()):r.appendChild(t);let{datetime:w}=e.dataset;try{let s=await S(c,{to:w});return i("Saved: OK","success"),g(t,"booking-moved",s),s}catch(s){return n&&n.appendChild(t),i(`${s}`,"error"),{}}}else throw new Error("Move URL is not provided.")};var f=(t,e)=>t.toString().padStart(e,"0").slice(-e);var p=t=>f(t,2),u=t=>{let e=typeof t=="string"?new Date(t):t;return`${e.getFullYear()}-${p(e.getMonth()+1)}-${p(e.getDate())}T${p(e.getHours())}:${p(e.getMinutes())}`},v=(t,e=15)=>{let o=new Date(t);return o.setMilliseconds(m(o.getMilliseconds()/1e3)*1e3),o.setSeconds(m(o.getSeconds()/60)*60),o.setMinutes(m(o.getMinutes()/e)*e),u(o)},h=(t,e)=>new Date(new Date(t).getTime()+e*6e4);var d=window;d.moveBooking=T;d.toast=i;d.roundTime=v;d.addMinutes=h;d.dateToString=u;})();
//# sourceMappingURL=main.min.js.map
