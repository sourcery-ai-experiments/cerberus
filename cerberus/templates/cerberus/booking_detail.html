{% extends 'base.html' %}

{% load humanize %}
{% load field_tags components %}
{% load djmoney %}
{% load human_duration %}

{% block page_title %}Booking {{ object.name }}{% endblock %}

{% block content %}
    {% component "cerberus/components/dropdown.html" %}
        <ul role="listbox">
            <li><a href="{% url 'booking_update' booking.id %}">Edit</a></li>
            <li><a hx-get="{% url 'booking_delete' booking.id %}" hx-swap="afterend" href="{% url 'booking_delete' booking.id %}">Delete</a></li>
        </ul>
    {% endcomponent %}
    <div class="grid pair">
        <div>Pet</div><div>{{ booking.pet }}</div>
        <div>Service</div><div>{{ booking.service }}</div>
        <div>Start</div><div>{{ booking.start }}</div>
        <div>End</div><div>{{ booking.end }}</div>
        <div>Length</div><div>{{ booking.length|naturaldelta|capfirst }}</div>
        <div>State</div><div>{{ booking.state|capfirst }}</div>
        <div>Cost</div><div>{{ booking.cost }}</div>
        <div>Charges</div><div>
            {% for charge in booking.charges.objects %}
                <div>{{ charge.line }} - {{ charge.state }}</div>
            {% empty %}
                <div>None</div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
